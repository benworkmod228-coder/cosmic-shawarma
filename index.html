<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ñ–ö–• ‚Äî –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
  <style>
    :root{
      --bg: #0f0f10;          /* –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –∏–∑ Telegram —Ç–µ–º—ã */
      --card: #1b1c20;
      --text: #e9e9ee;
      --muted: #a9abb3;
      --primary: #1a73e8;
      --primary-text: #ffffff;
      --border: #26272c;
      --radius: 18px;
      --pad: 14px;
      --gap: 12px;
      --shadow: 0 6px 18px rgba(0,0,0,.25);
    }

    /* Telegram theme binding */
    .tg-theme{
      --bg: var(--tg-theme-bg-color, #0f0f10);
      --text: var(--tg-theme-text-color, #e9e9ee);
      --primary: var(--tg-theme-button-color, #1a73e8);
      --primary-text: var(--tg-theme-button-text-color, #ffffff);
      --card: var(--tg-theme-secondary-bg-color, #1b1c20);
      --muted: var(--tg-theme-hint-color, #a9abb3);
      --border: color-mix(in srgb, var(--text) 8%, transparent);
    }

    /* Layout */
    html,body{
      height:100%;
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Inter, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    }
    .wrap{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18px;
    }
    .card{
      width: 100%;
      max-width: 520px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: calc(var(--radius) + 6px);
      box-shadow: var(--shadow);
      padding: clamp(14px, 2.8vw, 22px);
    }

    .head{
      display:flex; gap:12px; align-items:flex-start; margin-bottom:14px;
    }
    .emoji{font-size: 28px; line-height:1}
    h1{
      font-size: 18px;
      margin: 0 0 6px 0;
      font-weight: 700;
      letter-spacing:.2px;
    }
    .sub{ color: var(--muted); font-size: 14px; }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: var(--gap);
      margin-top: 16px;
    }
    @media (min-width: 520px){
      .grid{ grid-template-columns: 1fr 1fr; }
    }

    .btn{
      display:flex; align-items:center; justify-content:center;
      gap:10px;
      width:100%;
      padding: 14px 16px;
      background: var(--primary);
      color: var(--primary-text);
      font-weight: 700;
      font-size: 15px;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      transition: transform .06s ease, opacity .2s ease;
      user-select: none;
    }
    .btn:active{ transform: translateY(1px) scale(.997); }
    .btn.secondary{
      background: transparent;
      color: var(--text);
      border: 1px solid var(--border);
      font-weight: 600;
    }

    .row{ display:flex; gap:var(--gap); }
    .row .btn{ flex:1; }

    .note{
      margin-top:14px;
      color: var(--muted);
      font-size: 12.5px;
      text-align:center;
    }

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: 16px;
      translate: -50% 12px;
      background: var(--card);
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 10px 14px;
      opacity: 0;
      transition: opacity .2s ease, translate .2s ease;
      box-shadow: var(--shadow);
      pointer-events:none;
      font-size: 14px;
    }
    .toast.show{ opacity:1; translate: -50% 0; }
  </style>
</head>
<body class="tg-theme">
  <div class="wrap">
    <main class="card" role="main">
      <header class="head" aria-label="–ó–∞–≥–æ–ª–æ–≤–æ–∫">
        <div class="emoji">üè†</div>
        <div>
          <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ñ–ö–•-–±–æ—Ç!</h1>
          <div class="sub">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —É—Å–ª—É–≥–∞–º–∏ –ª–µ–≥–∫–æ –∏ –±—ã—Å—Ç—Ä–æ ‚ú®</div>
        </div>
      </header>

      <!-- –†–æ–≤–Ω–∞—è —Å–µ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ -->
      <section class="grid" aria-label="–î–µ–π—Å—Ç–≤–∏—è">
        <button class="btn" data-action="refresh">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
        <button class="btn" data-action="tariff">üß© –ü–æ–º–µ–Ω—è—Ç—å —Ç–∞—Ä–∏—Ñ</button>
        <button class="btn" data-action="balance">üí≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
        <button class="btn" data-action="topup">‚ûï –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
        <button class="btn" data-action="services">üõ† –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</button>
        <button class="btn secondary" id="closeBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
      </section>

      <p class="note">–°–æ–≤–µ—Ç: –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —ç—Ç–æ –æ–∫–Ω–æ –≤–Ω–∏–∑, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ —á–∞—Ç.</p>
    </main>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    // –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ–º Telegram WebApp API
    const tg = window.Telegram?.WebApp || null;

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ –∫–Ω–æ–ø–∫–∏ –Ω–∞–∑–∞–¥
    (function initTG(){
      if(!tg) return;
      tg.expand();
      tg.enableClosingConfirmation(); // –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö
      tg.BackButton.show();
      tg.BackButton.onClick(() => tg.close());
      // –ê–≤—Ç–æ-–∞–ø–¥–µ–π—Ç —Ç–µ–º—ã
      const applyTheme = () => document.body.classList.add('tg-theme');
      tg.onEvent('themeChanged', applyTheme);
      applyTheme();
    })();

    // –£—Ç–∏–ª–∏—Ç–∞ —Ç–æ—Å—Ç–∞
    const toastEl = document.getElementById('toast');
    function toast(msg){
      toastEl.textContent = msg;
      toastEl.classList.add('show');
      setTimeout(()=> toastEl.classList.remove('show'), 1600);
    }

    // –õ—ë–≥–∫–∏–π —Ö–∞–ø—Ç–∏–∫
    function haptic(){
      try{ tg?.HapticFeedback?.impactOccurred('light'); }catch(e){}
    }

    // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ—Ç
    function send(key, payload = {}){
      const data = JSON.stringify({ app: 'jkh', action: key, payload, ts: Date.now() });
      try{
        tg?.sendData?.(data);
        toast('–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –±–æ—Ç–∞ ‚úì');
      }catch(e){
        console.error(e);
        toast('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å');
      }
      haptic();
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
    document.addEventListener('click', (e)=>{
      const btn = e.target.closest('.btn');
      if(!btn) return;

      const act = btn.dataset.action;
      if(act){
        switch(act){
          case 'refresh': send('refresh'); break;
          case 'tariff':  send('tariff');  break;
          case 'balance': send('balance'); break;
          case 'topup':   send('topup');   break;
          case 'services':send('services');break;
        }
      }
    });

    // –ö–Ω–æ–ø–∫–∞ "–ó–∞–∫—Ä—ã—Ç—å"
    document.getElementById('closeBtn')?.addEventListener('click', ()=>{
      haptic();
      tg?.close?.();
    });
  </script>
</body>
</html>
